#!/bin/bash


echo '__________.__                                                     .___'
echo '\______   \  | _____  ___.__. ___________  ____  __ __  ____    __| _/'
echo ' |     ___/  | \__  \<   |  |/ ___\_  __ \/  _ \|  |  \/    \  / __ |'
echo ' |    |   |  |__/ __ \\___  / /_/  >  | \(  <_> )  |  /   |  \/ /_/ |'
echo ' |____|   |____(____  / ____\___  /|__|   \____/|____/|___|  /\____ |'
echo '                    \/\/   /_____/                         \/      \/'
echo '============== BY GEORGIOS ROUMELIOTIS AKA RoboGR00t ================'
echo ''

IS_INSTALLED=$(which playground)

if [ "$IS_INSTALLED" != "" ]
then
        echo "[+] playground already installed."
#       exit 0
fi

RC="$SHELL"
RC=$(echo $SHELL | grep -c 'bash')

echo "[+] trying to install dependencies : lolcat toilet ..."
sudo apt-get install lolcat toilet -y

MODE=""

if [[ $RC -eq 1 ]]
then
        RC="$HOME/.bashrc"
        MODE="BASH"
        echo "source /opt/playground/playground.autocomplite" >> $RC
elif [[ $(echo $SHELL | grep -c 'zsh') -eq 1 ]]
then
        RC="$HOME/.zshrc"
        MODE="ZSH"
        echo "source /opt/playground/playground.autocomplite.zsh" >> $RC
else
                echo "[-] unsupported shell installation failed."
        exit 1
fi

echo "[+] installing playground ..."
sudo mkdir -p /opt/playground
sudo cp * /opt/playground/
sudo ln -s /opt/playground/playground /usr/bin/playground
echo "[+] playground installed successfully inside $MODE shell!"
echo "[+] start a new $SHELL shell to take effect"
